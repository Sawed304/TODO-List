<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8" />
    <title>DBP</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelector('#new-task').onsubmit = (event) => {
          event.preventDefault();

          const cb = document.createElement("INPUT");
          cb.setAttribute("type", "checkbox");

          const li = document.createElement('li');
          li.appendChild(cb);
          li.innerHTML += document.querySelector('#task').value;

          // Agregar botón de eliminar
          const deleteButton = document.createElement('button');
          deleteButton.textContent = 'x';
          deleteButton.onclick = function () {
            li.remove();
          };
          li.appendChild(deleteButton);

          document.querySelector('#tasks').append(li);

          document.querySelector('#task').value = '';
        };

        // Agregar funcionalidad para completar todas las opciones
        document.querySelector('#fill-all').onclick = () => {
          const tasksList = document.querySelector('#tasks');
          const taskItems = tasksList.querySelectorAll('li');

          taskItems.forEach((taskItem) => {
            const checkbox = taskItem.querySelector('input[type="checkbox"]');
            checkbox.checked = true;
          });
        };
      });
    </script>
  </head>
  <body>
    <p>TODO List</p>
    <h1>Lista</h1>
    <form id="new-task">
      <input
        id="task"
        autocomplete="off"
        autofocus
        placeholder="Nueva lista"
        type="text"
      />
      <input type="submit" />
    </form>

    <!-- Botón para completar todas las opciones -->
    <button id="fill-all">Completar todo</button>

    <ol id="tasks"></ol>
  </body>
</html>
